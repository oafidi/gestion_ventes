@startuml DA04 - Inscription Produit Vendeur

!theme plain
title <size:20>**DA04 - Inscription d'un Produit par le Vendeur**</size>\n<size:14>//Soumission d'une offre sur un produit du catalogue//</size>

skinparam backgroundColor #FEFEFE
skinparam ActivityBackgroundColor #E3F2FD
skinparam ActivityBorderColor #1976D2
skinparam ActivityDiamondBackgroundColor #FFF3E0
skinparam ActivityDiamondBorderColor #F57C00
skinparam ArrowColor #1976D2

|#E1BEE7| ğŸª Vendeur |
|#E3F2FD| ğŸ“¦ Catalogue Produits |
|#E8F5E9| ğŸ“‹ Gestion Offres |
|#FFF3E0| ğŸ›¡ï¸ Administration |

start

|ğŸª Vendeur|
:AccÃ©der Ã  l'espace vendeur;

if (Vendeur approuvÃ© ?) then (Non)
    :âŒ AccÃ¨s refusÃ©;
    :Afficher "En attente d'approbation";
    stop
else (Oui)
endif

:Cliquer sur "Inscrire un produit";

|ğŸ“¦ Catalogue Produits|
:Charger les produits du catalogue;
:Afficher la liste des produits disponibles;

|ğŸª Vendeur|
:Parcourir le catalogue;

note right
    **Produits affichÃ©s :**
    â€¢ iPhone 15 Pro
    â€¢ Samsung Galaxy S24
    â€¢ MacBook Air M3
    â€¢ etc.
end note

:SÃ©lectionner un produit Ã  vendre;

|ğŸ“‹ Gestion Offres|
:VÃ©rifier si le vendeur vend dÃ©jÃ  ce produit;

if (Produit dÃ©jÃ  inscrit ?) then (Oui)
    :âš ï¸ Afficher message\n"Vous vendez dÃ©jÃ  ce produit";
    
    |ğŸª Vendeur|
    if (Modifier l'offre existante ?) then (Oui)
        :AccÃ©der Ã  la modification;
    else (Non)
        :Choisir un autre produit;
    endif
    stop
else (Non)
endif

|ğŸª Vendeur|
:ğŸ“ Remplir le formulaire d'offre;

note right
    **Informations de l'offre :**
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ğŸ’° Mon prix : 1099â‚¬        â”‚
    â”‚ ğŸ“ Titre : iPhone 15 Pro   â”‚
    â”‚    - Excellent Ã©tat        â”‚
    â”‚ ğŸ“„ Description : ...       â”‚
    â”‚ ğŸ–¼ï¸ Photo : [optionnel]     â”‚
    â”‚ ğŸ“¦ Ma quantitÃ© : 10        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
end note

:Valider et soumettre l'offre;

|ğŸ“‹ Gestion Offres|
:Valider les informations;

if (Prix valide ?) then (Non)
    :âŒ Erreur : Prix invalide;
    |ğŸª Vendeur|
    :Corriger le prix;
    stop
else (Oui)
endif

:ğŸ“‹ CrÃ©er l'offre (VendeurProduit);

note right
    **Offre crÃ©Ã©e :**
    â€¢ Vendeur : [ID vendeur]
    â€¢ Produit : iPhone 15 Pro
    â€¢ Prix : 1099â‚¬
    â€¢ **Statut : EN_ATTENTE**
    â€¢ Date : 28/12/2024
end note

|ğŸ›¡ï¸ Administration|
:ğŸ“§ Notification : Nouvelle offre Ã  valider;

|ğŸ“‹ Gestion Offres|
#LightYellow:â³ En attente d'approbation;

|ğŸª Vendeur|
:âœ… Confirmation de soumission;
:Afficher "Offre en cours de validation";

note right
    Le vendeur peut :
    â€¢ Suivre l'Ã©tat de sa demande
    â€¢ Modifier son offre
    â€¢ Supprimer sa demande
end note

' Partie validation admin
|ğŸ›¡ï¸ Administration|
:Examiner l'offre soumise;

if (Offre conforme ?) then (Oui)
    
    |ğŸ“‹ Gestion Offres|
    :Statut â†’ APPROUVÃ‰E;
    :Rendre visible en boutique;
    
    |ğŸª Vendeur|
    :ğŸ“§ Notification\n"Offre approuvÃ©e !";
    :ğŸ‰ Produit visible en boutique;
    
else (Non)
    
    |ğŸ“‹ Gestion Offres|
    :Statut â†’ REJETÃ‰E;
    :Enregistrer le motif de rejet;
    
    |ğŸª Vendeur|
    :ğŸ“§ Notification\n"Offre rejetÃ©e"\nMotif : ...;
    
endif

stop

legend right
    **RÃ¨gles mÃ©tier :**
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    â€¢ Vendeur doit Ãªtre approuvÃ©
    â€¢ Une seule offre par produit
    â€¢ Chaque offre nÃ©cessite validation
    â€¢ Prix librement dÃ©fini par vendeur
endlegend

@enduml
