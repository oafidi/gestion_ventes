@startuml DA10 - Gestion Categories

!theme plain
title <size:20>**DA10 - Gestion des CatÃ©gories**</size>\n<size:14>//Organisation du catalogue par l'administrateur//</size>

skinparam backgroundColor #FEFEFE
skinparam ActivityBackgroundColor #E3F2FD
skinparam ActivityBorderColor #1976D2
skinparam ActivityDiamondBackgroundColor #FFF3E0
skinparam ActivityDiamondBorderColor #F57C00
skinparam ArrowColor #1976D2

|#E8F5E9| ğŸ›¡ï¸ Administrateur |
|#E3F2FD| ğŸ“‚ Gestion CatÃ©gories |
|#FCE4EC| ğŸ“¦ Produits |

start

|ğŸ›¡ï¸ Administrateur|
:AccÃ©der Ã  la gestion des catÃ©gories;

|ğŸ“‚ Gestion CatÃ©gories|
:Afficher l'arborescence des catÃ©gories;

note right
    **CatÃ©gories actuelles :**
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ ğŸ“‚ CatÃ©gories (5)            â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚ ğŸ“± Smartphones    â†’ 45 prod. â”‚
    â”‚ ğŸ’» Ordinateurs    â†’ 32 prod. â”‚
    â”‚ ğŸ§ Accessoires    â†’ 89 prod. â”‚
    â”‚ ğŸ“· Photo & VidÃ©o  â†’ 23 prod. â”‚
    â”‚ ğŸ® Gaming         â†’ 56 prod. â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
end note

|ğŸ›¡ï¸ Administrateur|
switch (Action souhaitÃ©e ?)

case (â• CrÃ©er une catÃ©gorie)
    
    :Cliquer sur "Nouvelle catÃ©gorie";
    
    |ğŸ“‚ Gestion CatÃ©gories|
    :Afficher le formulaire;
    
    |ğŸ›¡ï¸ Administrateur|
    :ğŸ“ Saisir les informations;
    
    note right
        **Nouvelle catÃ©gorie :**
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Nom : Audio & Hi-Fi â”‚
        â”‚ Image : ğŸµ [upload] â”‚
        â”‚ Description : ...   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    end note
    
    :Valider la crÃ©ation;
    
    |ğŸ“‚ Gestion CatÃ©gories|
    :VÃ©rifier l'unicitÃ© du nom;
    
    if (Nom dÃ©jÃ  existant ?) then (Oui)
        :âŒ Erreur : Nom dÃ©jÃ  utilisÃ©;
        |ğŸ›¡ï¸ Administrateur|
        :Choisir un autre nom;
    else (Non)
        :âœ… CrÃ©er la catÃ©gorie;
        
        |ğŸ›¡ï¸ Administrateur|
        :ğŸ‰ "CatÃ©gorie crÃ©Ã©e !";
    endif

case (âœï¸ Modifier une catÃ©gorie)
    
    :SÃ©lectionner une catÃ©gorie;
    
    |ğŸ“‚ Gestion CatÃ©gories|
    :Afficher les informations actuelles;
    
    |ğŸ›¡ï¸ Administrateur|
    :Modifier le nom, l'image ou la description;
    :Enregistrer les modifications;
    
    |ğŸ“‚ Gestion CatÃ©gories|
    :âœ… Mettre Ã  jour la catÃ©gorie;
    
    |ğŸ›¡ï¸ Administrateur|
    :ğŸ‰ "CatÃ©gorie mise Ã  jour !";

case (ğŸ—‘ï¸ Supprimer une catÃ©gorie)
    
    :SÃ©lectionner une catÃ©gorie;
    
    |ğŸ“‚ Gestion CatÃ©gories|
    :Compter les produits associÃ©s;
    
    |ğŸ“¦ Produits|
    :Retourner le nombre de produits;
    
    |ğŸ“‚ Gestion CatÃ©gories|
    if (CatÃ©gorie vide ?) then (Non)
        
        :âš ï¸ Afficher avertissement;
        
        note right
            **Attention !**
            Cette catÃ©gorie contient
            45 produits.
            
            Vous devez d'abord :
            â€¢ DÃ©placer les produits
            â€¢ Ou les supprimer
        end note
        
        |ğŸ›¡ï¸ Administrateur|
        switch (Choix ?)
        case (DÃ©placer les produits)
            :SÃ©lectionner catÃ©gorie de destination;
            
            |ğŸ“‚ Gestion CatÃ©gories|
            :DÃ©placer tous les produits;
            
            |ğŸ“¦ Produits|
            :Mettre Ã  jour les produits;
            
            |ğŸ“‚ Gestion CatÃ©gories|
            :Supprimer la catÃ©gorie vide;
            
        case (Annuler)
            :Abandonner la suppression;
            stop
        endswitch
        
    else (Oui)
        
        |ğŸ›¡ï¸ Administrateur|
        :Confirmer la suppression;
        
        |ğŸ“‚ Gestion CatÃ©gories|
        :âœ… Supprimer la catÃ©gorie;
        
    endif
    
    |ğŸ›¡ï¸ Administrateur|
    :ğŸ‰ "CatÃ©gorie supprimÃ©e !";

case (ğŸ“¦ RÃ©organiser les produits)
    
    :SÃ©lectionner les produits Ã  dÃ©placer;
    
    note right
        **SÃ©lection multiple :**
        â˜‘ï¸ iPhone 15 Pro
        â˜‘ï¸ iPhone 15
        â˜ Galaxy S24
        â˜‘ï¸ iPhone 14
    end note
    
    :Choisir la catÃ©gorie de destination;
    
    |ğŸ“‚ Gestion CatÃ©gories|
    :DÃ©placer les produits sÃ©lectionnÃ©s;
    
    |ğŸ“¦ Produits|
    :Mettre Ã  jour la catÃ©gorie des produits;
    
    |ğŸ›¡ï¸ Administrateur|
    :âœ… "3 produits dÃ©placÃ©s vers Smartphones";

endswitch

:Retour Ã  la liste des catÃ©gories;

stop

legend right
    **RÃ¨gles mÃ©tier :**
    â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    â€¢ Nom de catÃ©gorie unique
    â€¢ Suppression si vide uniquement
    â€¢ Un produit = une catÃ©gorie
    â€¢ RÃ©organisation par lot possible
endlegend

@enduml
