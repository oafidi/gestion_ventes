@startuml DS03 - Gestion Commande Admin

!theme plain
title <size:20>**DS03 - Gestion des Commandes**</size>\n<size:14>//Suivi et traitement par l'administrateur//</size>

skinparam backgroundColor #FEFEFE
skinparam sequenceMessageAlign center
skinparam responseMessageBelowArrow true
skinparam maxMessageSize 250

skinparam participant {
    BackgroundColor #E3F2FD
    BorderColor #1976D2
    FontColor #1565C0
}

skinparam actor {
    BackgroundColor #E8F5E9
    BorderColor #388E3C
}

actor "üõ°Ô∏è Administrateur" as A #E8F5E9
participant "üìä Tableau de Bord" as T #E3F2FD
participant "üìã Gestion\nCommandes" as G #FFF3E0
participant "üë§ Client" as CL #FCE4EC

note over A, CL #E1F5FE
    **Objectif m√©tier** : L'administrateur suit et traite
    toutes les commandes de la plateforme
end note

== üìã CONSULTATION DES COMMANDES ==

A -> T: Acc√®s √† l'espace "Commandes"
activate T #BBDEFB
T -> G: R√©cup√©ration des commandes
activate G #FFE0B2
G --> T: Liste compl√®te des commandes
deactivate G

T --> A: **Tableau des commandes**
deactivate T

note right of T #FFFDE7
    **Vue d'ensemble :**
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ N¬∞     ‚îÇ Client   ‚îÇ Montant‚îÇ Statut          ‚îÇ
    ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
    ‚îÇ #0042  ‚îÇ Ahmed    ‚îÇ 150 ‚Ç¨  ‚îÇ üü° En attente   ‚îÇ
    ‚îÇ #0041  ‚îÇ Sara     ‚îÇ 85 ‚Ç¨   ‚îÇ üü¢ Confirm√©e    ‚îÇ
    ‚îÇ #0040  ‚îÇ Karim    ‚îÇ 200 ‚Ç¨  ‚îÇ üîµ En livraison ‚îÇ
    ‚îÇ #0039  ‚îÇ Fatima   ‚îÇ 120 ‚Ç¨  ‚îÇ ‚úÖ Livr√©e       ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
end note

|||

== üîç FILTRAGE ET RECHERCHE ==

A -> T: Appliquer des filtres
activate T #BBDEFB

note right of A #FFFDE7
    **Crit√®res de filtrage :**
    ‚Ä¢ Par statut (En attente, Confirm√©e...)
    ‚Ä¢ Par p√©riode (Cette semaine, Ce mois...)
    ‚Ä¢ Par montant (min - max)
    ‚Ä¢ Par client
end note

T -> G: Requ√™te avec filtres
activate G #FFE0B2
G --> T: Commandes filtr√©es
deactivate G
T --> A: R√©sultats selon les crit√®res
deactivate T

|||

== üìÑ D√âTAIL D'UNE COMMANDE ==

A -> T: S√©lection commande #0042
activate T #BBDEFB
T -> G: R√©cup√©ration d√©tails complets
activate G #FFE0B2
G --> T: Informations d√©taill√©es
deactivate G

T --> A: **Fiche commande d√©taill√©e**
deactivate T

note right of T #E8F5E9
    **Commande #0042**
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    üìÖ Date : 28/12/2024 √† 14h30
    üë§ Client : Ahmed Ben Ali
    üìç Adresse : 123 Rue de Paris
    üì± T√©l : 06 12 34 56 78
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    **Articles :**
    ‚Ä¢ iPhone 15 Pro x1    = 120 ‚Ç¨
    ‚Ä¢ Coque silicone x1   = 30 ‚Ç¨
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    **TOTAL : 150 ‚Ç¨**
    üü° Statut : EN_ATTENTE
end note

|||

== üîÑ CHANGEMENT DE STATUT ==

A -> T: Modifier le statut de la commande
activate T #BBDEFB

note left of A #FFFDE7
    **Cycle de vie :**
    üü° En attente
        ‚Üì
    üü¢ Confirm√©e
        ‚Üì
    üîµ En cours de livraison
        ‚Üì
    ‚úÖ Livr√©e
    
    ‚ùå Annul√©e (√† tout moment)
end note

T -> G: Changer statut ‚Üí "CONFIRMEE"
activate G #FFE0B2
G -> G: Enregistrement avec horodatage
G --> T: Statut mis √† jour
deactivate G

T -> CL: üìß Notification envoy√©e
note right of CL #FCE4EC
    "Votre commande #0042
    a √©t√© confirm√©e !"
end note

T --> A: **‚úÖ Statut modifi√©**\nEn attente ‚Üí Confirm√©e
deactivate T

|||

== ‚ùå CAS : ANNULATION D'UNE COMMANDE ==

A -> T: Annuler la commande
activate T #BBDEFB
T -> G: Changement statut ‚Üí "ANNULEE"
activate G #FFE0B2

G -> G: Restauration du stock
note right of G #FFEBEE
    Les quantit√©s sont
    remises en stock
end note

G --> T: Commande annul√©e
deactivate G

T -> CL: üìß Notification d'annulation
T --> A: **‚ùå Commande annul√©e**\nStock restaur√©
deactivate T

note over A, CL #E1F5FE
    **R√®gles m√©tier :**
    ‚Ä¢ Seul l'admin peut changer le statut
    ‚Ä¢ Une annulation restaure le stock
    ‚Ä¢ Le client est notifi√© √† chaque changement
end note

@enduml