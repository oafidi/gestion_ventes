@startuml DS05 - Approbation Admin

!theme plain
title <size:20>**DS05 - Approbation par l'Administrateur**</size>\n<size:14>//Validation des vendeurs et de leurs offres//</size>

skinparam backgroundColor #FEFEFE
skinparam sequenceMessageAlign center
skinparam responseMessageBelowArrow true
skinparam maxMessageSize 250

skinparam participant {
    BackgroundColor #E3F2FD
    BorderColor #1976D2
    FontColor #1565C0
}

skinparam actor {
    BackgroundColor #E8F5E9
    BorderColor #388E3C
}

actor "üõ°Ô∏è Administrateur" as A #E8F5E9
participant "üìä Tableau de Bord\nAdmin" as T #E3F2FD
participant "üë• Gestion\nVendeurs" as GV #FFF3E0
participant "üì¶ Gestion\nOffres" as GO #FCE4EC
participant "üè™ Vendeur" as V #E1BEE7

note over A, V #E1F5FE
    **Objectif m√©tier** : L'administrateur contr√¥le
    la qualit√© des vendeurs et des offres sur la plateforme
end note

== üë• PARTIE 1 : APPROBATION DES VENDEURS ==

A -> T: Acc√©der aux "Vendeurs en attente"
activate T #BBDEFB
T -> GV: R√©cup√©rer les demandes
activate GV #FFE0B2
GV --> T: Liste des vendeurs non approuv√©s
deactivate GV

T --> A: **Demandes en attente**
deactivate T

note right of T #FFFDE7
    **Vendeurs en attente :**
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ üìã 3 demandes en attente      ‚îÇ
    ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
    ‚îÇ üë§ Mohamed Ali                ‚îÇ
    ‚îÇ    üìß mohamed@email.com       ‚îÇ
    ‚îÇ    üìÖ Inscrit le 27/12/2024   ‚îÇ
    ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
    ‚îÇ üë§ Sara Bennani               ‚îÇ
    ‚îÇ    üìß sara.b@email.com        ‚îÇ
    ‚îÇ    üìÖ Inscrit le 26/12/2024   ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
end note

A -> T: Examiner le profil de Mohamed
activate T #BBDEFB
T --> A: **Fiche vendeur d√©taill√©e**
deactivate T

alt #FFEBEE <color:#C62828>‚ùå Refus du vendeur</color>
    A -> T: Cliquer "Rejeter"
    activate T #BBDEFB
    T -> GV: Rejeter la demande
    activate GV #FFE0B2
    GV --> T: Demande rejet√©e
    deactivate GV
    T -> V: üìß Notification de refus
    T --> A: **Vendeur rejet√©**
    deactivate T
else #E8F5E9 <color:#2E7D32>‚úÖ Approbation du vendeur</color>
    A -> T: Cliquer "Approuver"
    activate T #BBDEFB
    T -> GV: Approuver le vendeur
    activate GV #FFE0B2
    GV -> GV: estApprouve = true
    GV --> T: Vendeur activ√©
    deactivate GV
    
    T -> V: üìß Notification d'approbation
    note right of V #E8F5E9
        "F√©licitations !
        Votre compte vendeur
        est maintenant actif."
    end note
    
    T --> A: **‚úÖ Vendeur approuv√©**\nIl peut maintenant soumettre des offres
    deactivate T
end

|||
== üì¶ PARTIE 2 : APPROBATION DES OFFRES ==

A -> T: Acc√©der aux "Offres en attente"
activate T #BBDEFB
T -> GO: R√©cup√©rer les offres non approuv√©es
activate GO #F8BBD9
GO --> T: Liste des offres en attente
deactivate GO

T --> A: **Offres √† valider**
deactivate T

note right of T #FFFDE7
    **Offres en attente :**
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ üì¶ iPhone 15 Pro                   ‚îÇ
    ‚îÇ    üë§ Vendeur : Mohamed Ali        ‚îÇ
    ‚îÇ    üí∞ Prix : 1150 ‚Ç¨                ‚îÇ
    ‚îÇ    üìÖ Soumise le 28/12/2024        ‚îÇ
    ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
    ‚îÇ üì¶ Samsung Galaxy S24              ‚îÇ
    ‚îÇ    üë§ Vendeur : Sara Bennani       ‚îÇ
    ‚îÇ    üí∞ Prix : 899 ‚Ç¨                 ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
end note

A -> T: Examiner l'offre iPhone 15 Pro
activate T #BBDEFB
T --> A: **D√©tails de l'offre**\n- Description\n- Prix propos√©\n- Photos fournies
deactivate T

alt #FFEBEE <color:#C62828>‚ùå Refus de l'offre</color>
    note right of A #FFEBEE
        **Motifs de refus :**
        ‚Ä¢ Prix non conforme
        ‚Ä¢ Description inad√©quate
        ‚Ä¢ Photos de mauvaise qualit√©
    end note
    
    A -> T: Cliquer "Rejeter"
    activate T #BBDEFB
    T -> GO: Rejeter l'offre
    activate GO #F8BBD9
    GO --> T: Offre supprim√©e
    deactivate GO
    T -> V: üìß Notification de refus
    T --> A: **Offre rejet√©e**
    deactivate T
else #E8F5E9 <color:#2E7D32>‚úÖ Approbation de l'offre</color>
    A -> T: Cliquer "Approuver"
    activate T #BBDEFB
    T -> GO: Approuver l'offre
    activate GO #F8BBD9
    GO -> GO: estApprouve = true
    GO --> T: Offre visible en boutique
    deactivate GO
    
    T -> V: üìß Notification d'approbation
    note right of V #E8F5E9
        "Votre offre pour
        iPhone 15 Pro
        est maintenant en ligne !"
    end note
    
    T --> A: **‚úÖ Offre approuv√©e**\nVisible dans la boutique
    deactivate T
end

|||

note over A, V #E1F5FE
    **R√®gles m√©tier :**
    ‚Ä¢ Seul l'admin peut approuver vendeurs et offres
    ‚Ä¢ Un vendeur non approuv√© ne peut pas vendre
    ‚Ä¢ Une offre non approuv√©e n'est pas visible
    ‚Ä¢ Les notifications tiennent le vendeur inform√©
end note

@enduml