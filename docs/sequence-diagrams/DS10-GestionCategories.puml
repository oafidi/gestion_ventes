@startuml DS10 - Gestion Cat√©gories

!theme plain
title <size:20>**DS10 - Gestion des Cat√©gories**</size>\n<size:14>//Organisation du catalogue par l'administrateur//</size>

skinparam backgroundColor #FEFEFE
skinparam sequenceMessageAlign center
skinparam responseMessageBelowArrow true
skinparam maxMessageSize 250

skinparam participant {
    BackgroundColor #E3F2FD
    BorderColor #1976D2
    FontColor #1565C0
}

skinparam actor {
    BackgroundColor #E8F5E9
    BorderColor #388E3C
}

actor "üõ°Ô∏è Administrateur" as A #E8F5E9
participant "üìä Tableau de Bord" as T #E3F2FD
participant "üìÇ Gestion\nCat√©gories" as G #FFF3E0
participant "üì¶ Produits" as P #FCE4EC

note over A, P #E1F5FE
    **Objectif m√©tier** : L'administrateur organise
    le catalogue en cat√©gories pour faciliter la navigation
end note

== üìÇ VISUALISATION DES CAT√âGORIES ==

A -> T: Acc√©der √† "Gestion des cat√©gories"
activate T #BBDEFB
T -> G: R√©cup√©rer toutes les cat√©gories
activate G #FFE0B2
G --> T: Liste des cat√©gories avec stats
deactivate G

T --> A: **Arborescence des cat√©gories**
deactivate T

note right of T #FFFDE7
    **Cat√©gories existantes :**
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ üìÇ Cat√©gories (5)                  ‚îÇ
    ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
    ‚îÇ üì± Smartphones     ‚Üí 45 produits   ‚îÇ
    ‚îÇ üíª Ordinateurs     ‚Üí 32 produits   ‚îÇ
    ‚îÇ üéß Accessoires     ‚Üí 89 produits   ‚îÇ
    ‚îÇ üì∑ Photo & Vid√©o   ‚Üí 23 produits   ‚îÇ
    ‚îÇ üéÆ Gaming          ‚Üí 56 produits   ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
end note

|||

== ‚ûï CR√âER UNE NOUVELLE CAT√âGORIE ==

A -> T: Cliquer "Nouvelle cat√©gorie"
activate T #BBDEFB
T --> A: **Formulaire de cr√©ation**
deactivate T

note right of A #FFFDE7
    **Informations √† saisir :**
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ üìù Nom : Audio & Hi-Fi   ‚îÇ
    ‚îÇ üñºÔ∏è Image : [upload]      ‚îÇ
    ‚îÇ üìÑ Description : ...     ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
end note

A -> T: Soumettre le formulaire
activate T #BBDEFB
T -> G: Cr√©er la cat√©gorie
activate G #FFE0B2

G -> G: V√©rifier unicit√© du nom

alt #FFEBEE <color:#C62828>‚ùå Nom d√©j√† existant</color>
    G --> T: Cat√©gorie existante
    T --> A: **Erreur** : Ce nom de cat√©gorie existe d√©j√†
    deactivate G
    deactivate T
else #E8F5E9 <color:#2E7D32>‚úÖ Nom unique</color>
    G -> G: Enregistrer la cat√©gorie
    
    note right of G #E8F5E9
        **Cat√©gorie cr√©√©e :**
        ‚Ä¢ ID : 6
        ‚Ä¢ Nom : Audio & Hi-Fi
        ‚Ä¢ Image : audio.jpg
        ‚Ä¢ Produits : 0
    end note
    
    G --> T: Cat√©gorie cr√©√©e
    deactivate G
    T --> A: **‚úÖ Cat√©gorie ajout√©e !**\nElle est maintenant disponible\npour classer les produits
    deactivate T
end

|||

== ‚úèÔ∏è MODIFIER UNE CAT√âGORIE ==

A -> T: S√©lectionner une cat√©gorie
activate T #BBDEFB
T -> G: R√©cup√©rer les d√©tails
activate G #FFE0B2
G --> T: Informations de la cat√©gorie
deactivate G
T --> A: **Formulaire pr√©-rempli**
deactivate T

A -> T: Modifier le nom ou l'image
activate T #BBDEFB
T -> G: Mettre √† jour la cat√©gorie
activate G #FFE0B2
G -> G: Sauvegarde des modifications
G --> T: Modifications enregistr√©es
deactivate G
T --> A: **‚úÖ Cat√©gorie mise √† jour !**
deactivate T

|||

== üóëÔ∏è SUPPRIMER UNE CAT√âGORIE ==

A -> T: Cliquer "Supprimer" sur Audio & Hi-Fi
activate T #BBDEFB
T -> G: V√©rifier les produits associ√©s
activate G #FFE0B2
G -> P: Compter les produits dans cette cat√©gorie
activate P #F8BBD9
P --> G: Nombre de produits : 12
deactivate P
G --> T: 12 produits associ√©s
deactivate G

alt #FFEBEE <color:#C62828>Cat√©gorie non vide</color>
    T --> A: **‚ö†Ô∏è Suppression impossible**\n12 produits sont dans cette cat√©gorie.\nD√©placez-les d'abord.
    deactivate T
    
    note right of A #FFEBEE
        **Action requise :**
        L'admin doit d'abord :
        ‚Ä¢ R√©assigner les produits
          √† une autre cat√©gorie
        ‚Ä¢ Ou supprimer les produits
    end note

else #E8F5E9 <color:#2E7D32>Cat√©gorie vide</color>
    T --> A: **Confirmer la suppression ?**\nCette cat√©gorie est vide.
    
    A -> T: Confirmer
    T -> G: Supprimer la cat√©gorie
    activate G #FFE0B2
    G -> G: Suppression en base
    G --> T: Cat√©gorie supprim√©e
    deactivate G
    T --> A: **‚úÖ Cat√©gorie supprim√©e !**
    deactivate T
end

|||

== üì¶ R√âORGANISATION DES PRODUITS ==

A -> T: D√©placer des produits vers une autre cat√©gorie
activate T #BBDEFB

note right of A #FFFDE7
    **L'admin s√©lectionne :**
    ‚Ä¢ Les produits √† d√©placer
    ‚Ä¢ La cat√©gorie de destination
end note

T -> G: Changer la cat√©gorie des produits
activate G #FFE0B2
G -> P: Mettre √† jour les produits s√©lectionn√©s
activate P #F8BBD9
P -> P: Nouvelle cat√©gorie assign√©e
P --> G: Produits mis √† jour
deactivate P
G --> T: R√©organisation effectu√©e
deactivate G
T --> A: **‚úÖ 5 produits d√©plac√©s**\nvers "Accessoires"
deactivate T

|||

note over A, P #E1F5FE
    **R√®gles m√©tier :**
    ‚Ä¢ Chaque cat√©gorie a un nom unique
    ‚Ä¢ Une cat√©gorie ne peut √™tre supprim√©e que si elle est vide
    ‚Ä¢ Un produit appartient √† une seule cat√©gorie
    ‚Ä¢ Les cat√©gories organisent la navigation client
end note

@enduml
